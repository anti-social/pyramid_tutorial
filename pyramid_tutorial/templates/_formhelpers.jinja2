{% macro render_field(field) %}
  <div class="field">
    <label class="label">{{ field.label }}</label>
    <div class="control">
      {{ field(
        class_=['input', 'is-danger' if field.errors else '']|join(' '),
        placeholder='Product name',
        **kwargs
      )|safe }}
    </div>
    {% if field.errors %}
      {% for error in field.errors %}
        <p class="help is-danger">
          {{ error }}
        </p>
      {% endfor %}
    {% endif %}
  </div>
{% endmacro %}

{% macro render_form(form) %}
  <form method="POST">
    {% for field in form._fields.values() %}
      {{ render_field(field) }}
    {% endfor %}
    <div class="field is-horizontal">
      <div class="control">
        <button class="button is-primary">Submit</button>
      </div>
    </div>
  </form>
{% endmacro %}
